In the name of God

From https://lani78.com/2008/08/08/generate-a-ssh-key-and-disable-password-authentication-on-ubuntu-server/.

1. Generate keys
ssh-keygen

2. Add the public key to the server
The hard way:
scp ~/.ssh/id_rsa.pub root@104.251.217.218:~
ssh root@104.251.217.218
	cat ~/id_rsa.pub >> ~/.ssh/authorized_keys
	rm ~/id_rsa.pub

Or easier:
cat ~/.ssh/id_rsa.pub | ssh root@104.251.217.218 'cat - >> ~/.ssh/authorized_keys'

3. Ensure key authentication is enabled
nano /etc/ssh/sshd_config

These have to be 'yes'.

RSAAuthentication yes
PubkeyAuthentication yes

service ssh reload

4. Disconnect and reconnect. No password should be requested.

5. Disable password authentication
nano /etc/ssh/sshd_config

These have to be 'no'.

ChallengeResponseAuthentication no
PaswordAuthentication no
UsePAM no

service ssh reload
